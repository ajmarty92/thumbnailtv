'use client'

import { useState } from 'react'
import { Upload, AlertCircle } from 'lucide-react'
import TVPlatformCard from '../TVPlatformCard'
import { tvPlatforms } from '@/types/tv-platforms'

interface TVPreviewDashboardProps {
  uploadedImage: string | null
  onImageUpload: (imageUrl: string) => void
}

export function TVPreviewDashboard({ uploadedImage, onImageUpload }: TVPreviewDashboardProps) {
  const [analyzing, setAnalyzing] = useState(false)

  const handleFileUpload = (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0]
    if (file) {
      const reader = new FileReader()
      reader.onload = (e) => {
        const result = e.target?.result as string
        onImageUpload(result)
        setAnalyzing(true)
        setTimeout(() => setAnalyzing(false), 2000)
      }
      reader.readAsDataURL(file)
    }
  }

  return (
    <div className="space-y-8">
      {/* Feature Selector - Minimal Addition */}
      <div className="bg-tv-gray/50 border border-tv-gray/30 rounded-lg p-4">
        <div className="flex flex-wrap gap-2">
          <button
            onClick={() => setActiveFeature('preview')}
            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
              activeFeature === 'preview'
                ? 'bg-tv-blue text-white'
                : 'bg-tv-gray text-gray-300 hover:bg-tv-gray/70'
            }`}
          >
            ðŸ“º TV Safe Zone Preview
          </button>
          <button
            onClick={() => setActiveFeature('compression')}
            className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${
              activeFeature === 'compression'
                ? 'bg-pink-500 text-white'
                : 'bg-tv-gray text-gray-300 hover:bg-tv-gray/70'
