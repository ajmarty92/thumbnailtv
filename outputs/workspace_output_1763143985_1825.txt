'use client'

import { useAuth } from '@/contexts/AuthContext'
import Navigation from '@/components/Navigation'
import TVOptimizationSuite from '@/components/TVOptimizationSuite'
import { useState, useEffect } from 'react'
import { Tv, Zap, TrendingUp, Check, Star, ArrowRight, Play, Users, Shield, Sparkles, ChevronUp, Mail, Lock, Crown, Building, ChevronDown } from 'lucide-react'
import { useRouter } from 'next/navigation'

export default function HomePage() {
  const { user, isLoading, showAuthModal } = useAuth()
  const router = useRouter()
  const [showDemo, setShowDemo] = useState(false)
  const [showScrollTop, setShowScrollTop] = useState(false)
  const [email, setEmail] = useState('')
  const [newsletterStatus, setNewsletterStatus] = useState<'idle' | 'loading' | 'success' | 'error'>('idle')
  const [userPlan, setUserPlan] = useState<'free' | 'starter' | 'pro' | 'manager'>('free')
  const [expandedFAQ, setExpandedFAQ] = useState<number | null>(null) // NEW STATE for enhanced FAQ

  // Scroll to top button visibility
  useEffect(() => {
    const handleScroll = () => {
      setShowScrollTop(window.scrollY > 400)
    }
    window.addEventListener('scroll', handleScroll)
    return () => window.removeEventListener('scroll', handleScroll)
  }, [])

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' })
